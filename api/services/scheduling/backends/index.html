
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://jacquelinegarrahan.github.io/lume-services/api/services/scheduling/backends/">
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.3.9">
    
    
      
        <title>Backends - lume-services</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.1d29e8d0.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#lume_services.services.scheduling.backends.backend" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="lume-services" class="md-header__button md-logo" aria-label="lume-services" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            lume-services
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Backends
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/jacquelinegarrahan/lume-services" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../.." class="md-tabs__link">
        Overview
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../services/files/" class="md-tabs__link">
        Services
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../../files/files/" class="md-tabs__link md-tabs__link--active">
        API
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../developer/setup/" class="md-tabs__link">
        Developer
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="lume-services" class="md-nav__button md-logo" aria-label="lume-services" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    lume-services
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/jacquelinegarrahan/lume-services" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1">
          Overview
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Overview" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Overview
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        LUME-Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../config/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../model_packaging/" class="md-nav__link">
        Model Packaging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../workflows/" class="md-nav__link">
        Workflows
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cli/" class="md-nav__link">
        CLI
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Services
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Services" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Services
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../services/files/" class="md-nav__link">
        File Service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../services/results/" class="md-nav__link">
        Results DB Service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../services/hpc/" class="md-nav__link">
        HPC Service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../services/models/" class="md-nav__link">
        Modeling Service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../services/scheduling/" class="md-nav__link">
        Scheduling Service
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          API
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="API" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1" type="checkbox" id="__nav_3_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1">
          Files
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Files" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          Files
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../files/files/" class="md-nav__link">
        File
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../files/serializers/" class="md-nav__link">
        Serializers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="/api/files/utils.md" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../results/" class="md-nav__link">
        Results
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../config/" class="md-nav__link">
        Config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../errors/" class="md-nav__link">
        Errors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../flows/" class="md-nav__link">
        Flows
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_7" type="checkbox" id="__nav_3_7" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3_7">
          Services
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Services" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_7">
          <span class="md-nav__icon md-icon"></span>
          Services
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_7_1" type="checkbox" id="__nav_3_7_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_7_1">
          Results
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Results" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_7_1">
          <span class="md-nav__icon md-icon"></span>
          Results
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../results/results/" class="md-nav__link">
        Results Database Service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../results/db/" class="md-nav__link">
        Database
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_7_2" type="checkbox" id="__nav_3_7_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_7_2">
          Files
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Files" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_7_2">
          <span class="md-nav__icon md-icon"></span>
          Files
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../files/files/" class="md-nav__link">
        File Service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../files/filesystems/" class="md-nav__link">
        Filesystems
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_7_3" type="checkbox" id="__nav_3_7_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_7_3">
          Model
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Model" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_7_3">
          <span class="md-nav__icon md-icon"></span>
          Model
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../models/models/" class="md-nav__link">
        Model Database Service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../models/db/" class="md-nav__link">
        Database
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_7_4" type="checkbox" id="__nav_3_7_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3_7_4">
          Scheduling
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Scheduling" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_7_4">
          <span class="md-nav__icon md-icon"></span>
          Scheduling
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../scheduling/" class="md-nav__link">
        Scheduling Service
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Backends
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Backends
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.backend" class="md-nav__link">
    backend
  </a>
  
    <nav class="md-nav" aria-label="backend">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.backend-classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.backend.RunConfig" class="md-nav__link">
    RunConfig
  </a>
  
    <nav class="md-nav" aria-label="RunConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.backend.RunConfig-attributes" class="md-nav__link">
    Attributes
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.backend.RunConfig.labels" class="md-nav__link">
    labels
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.backend.RunConfig.env" class="md-nav__link">
    env
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.backend.RunConfig-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.backend.RunConfig.build" class="md-nav__link">
    build()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.backend.Backend" class="md-nav__link">
    Backend
  </a>
  
    <nav class="md-nav" aria-label="Backend">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.backend.Backend-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.backend.Backend.create_project" class="md-nav__link">
    create_project()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.backend.Backend.register_flow" class="md-nav__link">
    register_flow()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.backend.Backend.load_flow" class="md-nav__link">
    load_flow()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.backend.Backend.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.backend.Backend.run_and_return" class="md-nav__link">
    run_and_return()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.local" class="md-nav__link">
    local
  </a>
  
    <nav class="md-nav" aria-label="local">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.local-classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.local.LocalRunConfig" class="md-nav__link">
    LocalRunConfig
  </a>
  
    <nav class="md-nav" aria-label="LocalRunConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.local.LocalRunConfig-attributes" class="md-nav__link">
    Attributes
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.local.LocalRunConfig.env" class="md-nav__link">
    env
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.local.LocalRunConfig.working_dir" class="md-nav__link">
    working_dir
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.local.LocalRunConfig-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.local.LocalRunConfig.validate" class="md-nav__link">
    validate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.local.LocalRunConfig.build" class="md-nav__link">
    build()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.local.LocalBackend" class="md-nav__link">
    LocalBackend
  </a>
  
    <nav class="md-nav" aria-label="LocalBackend">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.local.LocalBackend-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.local.LocalBackend.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.local.LocalBackend.run_and_return" class="md-nav__link">
    run_and_return()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.local.LocalBackend.create_project" class="md-nav__link">
    create_project()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.local.LocalBackend.register_flow" class="md-nav__link">
    register_flow()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.local.LocalBackend.load_flow" class="md-nav__link">
    load_flow()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server" class="md-nav__link">
    server
  </a>
  
    <nav class="md-nav" aria-label="server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server-classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.PrefectAgentConfig" class="md-nav__link">
    PrefectAgentConfig
  </a>
  
    <nav class="md-nav" aria-label="PrefectAgentConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.PrefectAgentConfig-attributes" class="md-nav__link">
    Attributes
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.PrefectAgentConfig.host" class="md-nav__link">
    host
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.PrefectAgentConfig.host_port" class="md-nav__link">
    host_port
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.PrefectServerConfig" class="md-nav__link">
    PrefectServerConfig
  </a>
  
    <nav class="md-nav" aria-label="PrefectServerConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.PrefectServerConfig-attributes" class="md-nav__link">
    Attributes
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.PrefectServerConfig.tag" class="md-nav__link">
    tag
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.PrefectServerConfig.host" class="md-nav__link">
    host
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.PrefectServerConfig.host_port" class="md-nav__link">
    host_port
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.PrefectServerConfig.host_ip" class="md-nav__link">
    host_ip
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.PrefectUIConfig" class="md-nav__link">
    PrefectUIConfig
  </a>
  
    <nav class="md-nav" aria-label="PrefectUIConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.PrefectUIConfig-attributes" class="md-nav__link">
    Attributes
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.PrefectUIConfig.host" class="md-nav__link">
    host
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.PrefectUIConfig.host_port" class="md-nav__link">
    host_port
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.PrefectUIConfig.host_ip" class="md-nav__link">
    host_ip
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.PrefectUIConfig.apollo_url" class="md-nav__link">
    apollo_url
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.PrefectTelemetryConfig" class="md-nav__link">
    PrefectTelemetryConfig
  </a>
  
    <nav class="md-nav" aria-label="PrefectTelemetryConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.PrefectTelemetryConfig-attributes" class="md-nav__link">
    Attributes
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.PrefectTelemetryConfig.enabled" class="md-nav__link">
    enabled
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.PrefectConfig" class="md-nav__link">
    PrefectConfig
  </a>
  
    <nav class="md-nav" aria-label="PrefectConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.PrefectConfig-attributes" class="md-nav__link">
    Attributes
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.PrefectConfig.server" class="md-nav__link">
    server
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.PrefectConfig.ui" class="md-nav__link">
    ui
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.PrefectConfig.telemetry" class="md-nav__link">
    telemetry
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.PrefectConfig.agent" class="md-nav__link">
    agent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.PrefectConfig.home_dir" class="md-nav__link">
    home_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.PrefectConfig.debug" class="md-nav__link">
    debug
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.PrefectConfig.backend" class="md-nav__link">
    backend
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.PrefectConfig-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.PrefectConfig.apply" class="md-nav__link">
    apply()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.ServerBackend" class="md-nav__link">
    ServerBackend
  </a>
  
    <nav class="md-nav" aria-label="ServerBackend">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.ServerBackend-attributes" class="md-nav__link">
    Attributes
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.ServerBackend.config" class="md-nav__link">
    config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.ServerBackend.default_image" class="md-nav__link">
    default_image
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.ServerBackend-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.ServerBackend.run_config_type" class="md-nav__link">
    run_config_type()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.ServerBackend.create_project" class="md-nav__link">
    create_project()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.ServerBackend.register_flow" class="md-nav__link">
    register_flow()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.ServerBackend.load_flow" class="md-nav__link">
    load_flow()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.ServerBackend.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.server.ServerBackend.run_and_return" class="md-nav__link">
    run_and_return()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.docker" class="md-nav__link">
    docker
  </a>
  
    <nav class="md-nav" aria-label="docker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.docker-classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.docker.DockerRunConfig" class="md-nav__link">
    DockerRunConfig
  </a>
  
    <nav class="md-nav" aria-label="DockerRunConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.docker.DockerRunConfig-attributes" class="md-nav__link">
    Attributes
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.docker.DockerRunConfig.image" class="md-nav__link">
    image
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.docker.DockerRunConfig.host_config" class="md-nav__link">
    host_config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.docker.DockerRunConfig.ports" class="md-nav__link">
    ports
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.docker.DockerRunConfig-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.docker.DockerRunConfig.validate_host_config" class="md-nav__link">
    validate_host_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.docker.DockerRunConfig.build" class="md-nav__link">
    build()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.docker.DockerBackend" class="md-nav__link">
    DockerBackend
  </a>
  
    <nav class="md-nav" aria-label="DockerBackend">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.docker.DockerBackend-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.docker.DockerBackend.run_config_type" class="md-nav__link">
    run_config_type()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.docker-functions" class="md-nav__link">
    Functions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.kubernetes" class="md-nav__link">
    kubernetes
  </a>
  
    <nav class="md-nav" aria-label="kubernetes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.kubernetes-attributes" class="md-nav__link">
    Attributes
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.kubernetes.KUBERNETES_REQUEST_SUFFIXES" class="md-nav__link">
    KUBERNETES_REQUEST_SUFFIXES
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.kubernetes-classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.kubernetes.KubernetesRunConfig" class="md-nav__link">
    KubernetesRunConfig
  </a>
  
    <nav class="md-nav" aria-label="KubernetesRunConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.kubernetes.KubernetesRunConfig-attributes" class="md-nav__link">
    Attributes
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.kubernetes.KubernetesRunConfig.image" class="md-nav__link">
    image
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.kubernetes.KubernetesRunConfig.image_pull_secrets" class="md-nav__link">
    image_pull_secrets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.kubernetes.KubernetesRunConfig.job_template" class="md-nav__link">
    job_template
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.kubernetes.KubernetesRunConfig.job_template_path" class="md-nav__link">
    job_template_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.kubernetes.KubernetesRunConfig.service_account_name" class="md-nav__link">
    service_account_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.kubernetes.KubernetesRunConfig.image_pull_policy" class="md-nav__link">
    image_pull_policy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.kubernetes.KubernetesRunConfig.cpu_limit" class="md-nav__link">
    cpu_limit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.kubernetes.KubernetesRunConfig.cpu_request" class="md-nav__link">
    cpu_request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.kubernetes.KubernetesRunConfig.memory_limit" class="md-nav__link">
    memory_limit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.kubernetes.KubernetesRunConfig.memory_request" class="md-nav__link">
    memory_request
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.kubernetes.KubernetesRunConfig-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.kubernetes.KubernetesRunConfig.validate_memory" class="md-nav__link">
    validate_memory()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.kubernetes.KubernetesRunConfig.build" class="md-nav__link">
    build()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.kubernetes.KubernetesBackend" class="md-nav__link">
    KubernetesBackend
  </a>
  
    <nav class="md-nav" aria-label="KubernetesBackend">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.kubernetes.KubernetesBackend-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lume_services.services.scheduling.backends.kubernetes.KubernetesBackend.run_config_type" class="md-nav__link">
    run_config_type()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Developer
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Developer" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Developer
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../developer/setup/" class="md-nav__link">
        Setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../developer/testing/" class="md-nav__link">
        Testing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../developer/documentation/" class="md-nav__link">
        Documentation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../developer/todo/" class="md-nav__link">
        TODO
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../developer/cluster/" class="md-nav__link">
        Cluster Architecture
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../developer/configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_7" type="checkbox" id="__nav_4_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_7">
          Services
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Services" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_7">
          <span class="md-nav__icon md-icon"></span>
          Services
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../developer/services/file/" class="md-nav__link">
        File
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../developer/services/scheduling/" class="md-nav__link">
        Scheduling
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../developer/services/results/" class="md-nav__link">
        Results
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/jacquelinegarrahan/lume-services/edit/master/docs/api/services/scheduling/backends.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



  <h1>Backends</h1>

<div class="doc doc-object doc-module">



<h2 id="lume_services.services.scheduling.backends.backend" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">lume_services.services.scheduling.backends.backend</span>


</h2>

  <div class="doc doc-contents first">

  

  <div class="doc doc-children">






<h3 id="lume_services.services.scheduling.backends.backend-classes">Classes</h3>

<div class="doc doc-object doc-class">



<h4 id="lume_services.services.scheduling.backends.backend.RunConfig" class="doc doc-heading">
        <span class="doc doc-object-name doc-class-name">RunConfig</span>


</h4>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code>, <code><span title="abc.ABC">ABC</span></code></p>

  
      <p>Pydantic representation of Prefect UniversalRunConfig:
https://docs.prefect.io/api/latest/run_configs.html#universalrun</p>

  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>labels</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[str]]</code>
          </td>
          <td><p>an list of labels to apply to this run
config. Labels are string identifiers used by Prefect Agents for selecting
valid flow runs when polling for work</p></td>
        </tr>
        <tr>
          <td><code>env</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[dict]</code>
          </td>
          <td><p>Additional environment variables to set on the job</p></td>
        </tr>
    </tbody>
  </table>



  

  <div class="doc doc-children">





<h5 id="lume_services.services.scheduling.backends.backend.RunConfig-attributes">Attributes</h5>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.backend.RunConfig.labels" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">labels</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">labels</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;lume-services&#39;</span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.backend.RunConfig.env" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">env</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">env</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>

<h5 id="lume_services.services.scheduling.backends.backend.RunConfig-functions">Functions</h5>

<div class="doc doc-object doc-function">



<h6 id="lume_services.services.scheduling.backends.backend.RunConfig.build" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">build</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">build</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">PrefectRunConfig</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Method for converting object to Prefect RunConfig type.</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="prefect.run_configs.RunConfig">PrefectRunConfig</span></code>
          </td>
          <td><p>PrefectRunConfig</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>lume_services/services/scheduling/backends/backend.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PrefectRunConfig</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Method for converting object to Prefect RunConfig type.</span>

<span class="sd">    Returns:</span>
<span class="sd">        PrefectRunConfig</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="lume_services.services.scheduling.backends.backend.Backend" class="doc doc-heading">
        <span class="doc doc-object-name doc-class-name">Backend</span>


</h4>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code>, <code><span title="abc.ABC">ABC</span></code></p>

  
      <p>Abstract base class for Prefect backends. Backends handle Prefect interactions
including running of flows, result handling, and flow registration with server
backends.</p>



  

  <div class="doc doc-children">







<h5 id="lume_services.services.scheduling.backends.backend.Backend-functions">Functions</h5>

<div class="doc doc-object doc-function">



<h6 id="lume_services.services.scheduling.backends.backend.Backend.create_project" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">create_project</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">create_project</span><span class="p">(</span><span class="n">project_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Create a Prefect project. Backend implementations without server connecton
should raise errors when this method is called.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>project_name</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Create a named Prefect project.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>lume_services/services/scheduling/backends/backend.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">create_project</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Create a Prefect project. Backend implementations without server connecton</span>
<span class="sd">    should raise errors when this method is called.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Create a named Prefect project.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="lume_services.services.scheduling.backends.backend.Backend.register_flow" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">register_flow</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">register_flow</span><span class="p">(</span>
    <span class="n">flow</span><span class="p">:</span> <span class="n">Flow</span><span class="p">,</span> <span class="n">project_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">image</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Register a flow with Prefect. Backend implementations without server connecton
should raise errors when this method is called.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>flow</code></td>
          <td>
                <code><span title="prefect.Flow">Flow</span></code>
          </td>
          <td><p>Prefect flow to register.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>project_name</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Name of project to register flow to.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>image</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Name of Docker image to run flow inside.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>str</code></td>          <td>
                <code>str</code>
          </td>
          <td><p>ID of registered flow.</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>lume_services/services/scheduling/backends/backend.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">register_flow</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">flow</span><span class="p">:</span> <span class="n">Flow</span><span class="p">,</span>
    <span class="n">project_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">image</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Register a flow with Prefect. Backend implementations without server connecton</span>
<span class="sd">    should raise errors when this method is called.</span>

<span class="sd">    Args:</span>
<span class="sd">        flow (Flow): Prefect flow to register.</span>
<span class="sd">        project_name (str): Name of project to register flow to.</span>
<span class="sd">        image (str): Name of Docker image to run flow inside.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: ID of registered flow.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="lume_services.services.scheduling.backends.backend.Backend.load_flow" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">load_flow</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">load_flow</span><span class="p">(</span><span class="n">flow_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">project_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Load a Prefect flow object. Backend implementations without server connecton
should raise errors when this method is called.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>flow_name</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Name of flow.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>project_name</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Name of project flow is registered with.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>dict</code></td>          <td>
                <code>dict</code>
          </td>
          <td><p>Dictionary with keys "flow_id" and "flow"</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>lume_services/services/scheduling/backends/backend.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">load_flow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flow_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">project_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Load a Prefect flow object. Backend implementations without server connecton</span>
<span class="sd">    should raise errors when this method is called.</span>

<span class="sd">    Args:</span>
<span class="sd">        flow_name (str): Name of flow.</span>
<span class="sd">        project_name (str): Name of project flow is registered with.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Dictionary with keys &quot;flow_id&quot; and &quot;flow&quot;</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="lume_services.services.scheduling.backends.backend.Backend.run" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">run</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">run</span><span class="p">(</span>
    <span class="n">parameters</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span>
    <span class="n">run_config</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">RunConfig</span><span class="p">],</span>
    <span class="o">**</span><span class="n">kwargs</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Run a flow. Does not return result. Implementations should cover instantiation
of run_config from kwargs as well as backend-specific kwargs.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>parameters</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]]</code>
          </td>
          <td><p>Dictionary mapping flow parameter
name to value</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>run_config</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="lume_services.services.scheduling.backends.backend.RunConfig" href="#lume_services.services.scheduling.backends.backend.RunConfig">RunConfig</a>]</code>
          </td>
          <td><p>RunConfig object to configure flow fun.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
          </td>
          <td><p>Keyword arguments for RunConfig init and backend-specific
execution.</p></td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Union">Union</span>[str, None]</code>
          </td>
          <td><p>Union[str, None]: Return run_id in case of server backend, None in the case
of local execution.</p></td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>pydantic.<span title="pydantic.ValidationError">ValidationError</span></code>
          </td>
          <td><p>Error validating run configuration.</p></td>
        </tr>
        <tr>
          <td>
                <code>ValueError</code>
          </td>
          <td><p>Value error on flow run</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>lume_services/services/scheduling/backends/backend.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">parameters</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span>
    <span class="n">run_config</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">RunConfig</span><span class="p">],</span>
    <span class="o">**</span><span class="n">kwargs</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Run a flow. Does not return result. Implementations should cover instantiation</span>
<span class="sd">    of run_config from kwargs as well as backend-specific kwargs.</span>

<span class="sd">    Args:</span>
<span class="sd">        parameters (Optional[Dict[str, Any]]): Dictionary mapping flow parameter</span>
<span class="sd">            name to value</span>
<span class="sd">        run_config (Optional[RunConfig]): RunConfig object to configure flow fun.</span>
<span class="sd">        **kwargs: Keyword arguments for RunConfig init and backend-specific</span>
<span class="sd">            execution.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Union[str, None]: Return run_id in case of server backend, None in the case</span>
<span class="sd">            of local execution.</span>

<span class="sd">    Raises:</span>
<span class="sd">        pydantic.ValidationError: Error validating run configuration.</span>
<span class="sd">        ValueError: Value error on flow run</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="lume_services.services.scheduling.backends.backend.Backend.run_and_return" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">run_and_return</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">run_and_return</span><span class="p">(</span>
    <span class="n">parameters</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span>
    <span class="n">run_config</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">RunConfig</span><span class="p">],</span>
    <span class="n">task_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="o">**</span><span class="n">kwargs</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Run a flow and return result. Implementations should cover instantiation of
run_config from kwargs as well as backend-specific kwargs.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>parameters</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]]</code>
          </td>
          <td><p>Dictionary mapping flow parameter
name to value</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>run_config</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="lume_services.services.scheduling.backends.backend.RunConfig" href="#lume_services.services.scheduling.backends.backend.RunConfig">RunConfig</a>]</code>
          </td>
          <td><p>RunConfig object to configure flow fun.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>task_name</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td><p>Name of task to return result. If no task slug
is passed, will return the flow result.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
          </td>
          <td><p>Keyword arguments for RunConfig init and backend-specific
execution.</p></td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>Any</code></td>          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td><p>Result of flow run.</p></td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>lume_services.<a class="autorefs autorefs-internal" title="lume_services.errors" href="../../../errors/#lume_services.errors">errors</a>.<a class="autorefs autorefs-internal" title="lume_services.errors.EmptyResultError" href="../../../errors/#lume_services.errors.EmptyResultError">EmptyResultError</a></code>
          </td>
          <td><p>No result is associated with the
flow.</p></td>
        </tr>
        <tr>
          <td>
                <code>pydantic.<span title="pydantic.ValidationError">ValidationError</span></code>
          </td>
          <td><p>Error validating run configuration.</p></td>
        </tr>
        <tr>
          <td>
                <code>ValueError</code>
          </td>
          <td><p>Value error on flow run</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>lume_services/services/scheduling/backends/backend.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">run_and_return</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">parameters</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span>
    <span class="n">run_config</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">RunConfig</span><span class="p">],</span>
    <span class="n">task_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="o">**</span><span class="n">kwargs</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Run a flow and return result. Implementations should cover instantiation of</span>
<span class="sd">    run_config from kwargs as well as backend-specific kwargs.</span>

<span class="sd">    Args:</span>
<span class="sd">        parameters (Optional[Dict[str, Any]]): Dictionary mapping flow parameter</span>
<span class="sd">            name to value</span>
<span class="sd">        run_config (Optional[RunConfig]): RunConfig object to configure flow fun.</span>
<span class="sd">        task_name (Optional[str]): Name of task to return result. If no task slug</span>
<span class="sd">            is passed, will return the flow result.</span>
<span class="sd">        **kwargs: Keyword arguments for RunConfig init and backend-specific</span>
<span class="sd">            execution.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Any: Result of flow run.</span>

<span class="sd">    Raises:</span>
<span class="sd">        lume_services.errors.EmptyResultError: No result is associated with the</span>
<span class="sd">            flow.</span>
<span class="sd">        pydantic.ValidationError: Error validating run configuration.</span>
<span class="sd">        ValueError: Value error on flow run</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="lume_services.services.scheduling.backends.local" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">lume_services.services.scheduling.backends.local</span>


</h2>

  <div class="doc doc-contents first">

  

  <div class="doc doc-children">






<h3 id="lume_services.services.scheduling.backends.local-classes">Classes</h3>

<div class="doc doc-object doc-class">



<h4 id="lume_services.services.scheduling.backends.local.LocalRunConfig" class="doc doc-heading">
        <span class="doc doc-object-name doc-class-name">LocalRunConfig</span>


</h4>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><a class="autorefs autorefs-internal" title="lume_services.services.scheduling.backends.RunConfig" href="#lume_services.services.scheduling.backends.backend.RunConfig">RunConfig</a></code></p>

  
      <p>Local run configuration. If no directory is found at the filepath passed as
working_dir, an error will be raised.</p>

  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>labels</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[List[str]]</code>
          </td>
          <td><p>an list of labels to apply to this run
config. Labels are string identifiers used by Prefect Agents for selecting
valid flow runs when polling for work</p></td>
        </tr>
        <tr>
          <td><code>env</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.Dict">Dict</span>[str, str]]</code>
          </td>
          <td><p>Dictionary of environment variables to use for
run</p></td>
        </tr>
        <tr>
          <td><code>working_dir</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td><p>Working directory</p></td>
        </tr>
    </tbody>
  </table>



  

  <div class="doc doc-children">





<h5 id="lume_services.services.scheduling.backends.local.LocalRunConfig-attributes">Attributes</h5>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.local.LocalRunConfig.env" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">env</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">env</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.local.LocalRunConfig.working_dir" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">working_dir</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">working_dir</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">())</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>

<h5 id="lume_services.services.scheduling.backends.local.LocalRunConfig-functions">Functions</h5>

<div class="doc doc-object doc-function">



<h6 id="lume_services.services.scheduling.backends.local.LocalRunConfig.validate" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">validate</span>


</h6>
<div class="highlight"><pre><span></span><code><span class="n">validate</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Pydantic validator checking working directory existence</p>

      <details class="quote">
        <summary>Source code in <code>lume_services/services/scheduling/backends/local.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;working_dir&quot;</span><span class="p">,</span> <span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Pydantic validator checking working directory existence&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="s2">&quot;No directory found at </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">v</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="lume_services.services.scheduling.backends.local.LocalRunConfig.build" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">build</span>


</h6>
<div class="highlight"><pre><span></span><code><span class="n">build</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">LocalRun</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Method for converting to Prefect RunConfig type LocalRun.</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="prefect.run_configs.LocalRun">LocalRun</span></code>
          </td>
          <td><p>LocalRun</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>lume_services/services/scheduling/backends/local.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">LocalRun</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Method for converting to Prefect RunConfig type LocalRun.</span>

<span class="sd">    Returns:</span>
<span class="sd">        LocalRun</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">LocalRun</span><span class="p">(</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude_none</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="lume_services.services.scheduling.backends.local.LocalBackend" class="doc doc-heading">
        <span class="doc doc-object-name doc-class-name">LocalBackend</span>


</h4>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><a class="autorefs autorefs-internal" title="lume_services.services.scheduling.backends.Backend" href="#lume_services.services.scheduling.backends.backend.Backend">Backend</a></code></p>

  
      <p>Backend used for local execution. This backend will raise errors on any function
calls requiring registration with the Prefect server.</p>

  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>run_config</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="lume_services.services.scheduling.backends.local.LocalRunConfig" href="#lume_services.services.scheduling.backends.local.LocalRunConfig">LocalRunConfig</a>]</code>
          </td>
          <td><p>Default configuration object for a given
run.</p></td>
        </tr>
    </tbody>
  </table>



  

  <div class="doc doc-children">







<h5 id="lume_services.services.scheduling.backends.local.LocalBackend-functions">Functions</h5>

<div class="doc doc-object doc-function">



<h6 id="lume_services.services.scheduling.backends.local.LocalBackend.run" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">run</span>


</h6>
<div class="highlight"><pre><span></span><code><span class="n">run</span><span class="p">(</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">run_config</span><span class="p">:</span> <span class="n">LocalRunConfig</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">flow</span><span class="p">:</span> <span class="n">Flow</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Run flow execution. Does not return result.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>labels</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[List[str]]</code>
          </td>
          <td><p>an list of labels to apply to this run
config. Labels are string identifiers used by Prefect Agents for
selecting valid flow runs when polling for work.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>env</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[dict]</code>
          </td>
          <td><p>Additional environment variables to set on the job</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>data</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]]</code>
          </td>
          <td><p>Dictionary mapping flow parameter name to
value.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>run_config</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="lume_services.services.scheduling.backends.local.LocalRunConfig" href="#lume_services.services.scheduling.backends.local.LocalRunConfig">LocalRunConfig</a>]</code>
          </td>
          <td><p>LocalRunConfig object to configure
flow fun.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>flow</code></td>
          <td>
                <code><span title="prefect.Flow">Flow</span></code>
          </td>
          <td><p>Prefect flow to execute.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
          </td>
          <td><p>Keyword arguments to intantiate the LocalRunConfig.</p></td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>pydantic.<span title="pydantic.ValidationError">ValidationError</span></code>
          </td>
          <td><p>Error validating run configuration.</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>lume_services/services/scheduling/backends/local.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">run_config</span><span class="p">:</span> <span class="n">LocalRunConfig</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">flow</span><span class="p">:</span> <span class="n">Flow</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Run flow execution. Does not return result.</span>

<span class="sd">    Args:</span>
<span class="sd">        labels (Optional[List[str]]): an list of labels to apply to this run</span>
<span class="sd">            config. Labels are string identifiers used by Prefect Agents for</span>
<span class="sd">            selecting valid flow runs when polling for work.</span>
<span class="sd">        env (Optional[dict]): Additional environment variables to set on the job</span>
<span class="sd">        data (Optional[Dict[str, Any]]): Dictionary mapping flow parameter name to</span>
<span class="sd">            value.</span>
<span class="sd">        run_config (Optional[LocalRunConfig]): LocalRunConfig object to configure</span>
<span class="sd">            flow fun.</span>
<span class="sd">        flow (Flow): Prefect flow to execute.</span>
<span class="sd">        **kwargs: Keyword arguments to intantiate the LocalRunConfig.</span>

<span class="sd">    Raises:</span>
<span class="sd">        pydantic.ValidationError: Error validating run configuration.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">run_config</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="s2">&quot;Both run_config and kwargs passed to LocalBackend.run. Flow</span><span class="se">\</span>
<span class="s2">            will execute using passed run_config.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">run_config</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">run_config</span> <span class="o">=</span> <span class="n">LocalRunConfig</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="c1"># convert to Prefect LocalRun</span>
    <span class="n">prefect_run_config</span> <span class="o">=</span> <span class="n">run_config</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>

    <span class="c1"># apply run config</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">run_config</span> <span class="o">=</span> <span class="n">prefect_run_config</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">parameters</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="lume_services.services.scheduling.backends.local.LocalBackend.run_and_return" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">run_and_return</span>


</h6>
<div class="highlight"><pre><span></span><code><span class="n">run_and_return</span><span class="p">(</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">run_config</span><span class="p">:</span> <span class="n">LocalRunConfig</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">task_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">flow</span><span class="p">:</span> <span class="n">Flow</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Run flow execution and return result.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]]</code>
          </td>
          <td><p>Dictionary mapping flow parameter name to
value.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>run_config</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="lume_services.services.scheduling.backends.local.LocalRunConfig" href="#lume_services.services.scheduling.backends.local.LocalRunConfig">LocalRunConfig</a>]</code>
          </td>
          <td><p>LocalRunConfig object to configure
flow fun.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>task_name</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td><p>Name of task to return result. If no task slug
is passed, will return the flow result.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>flow</code></td>
          <td>
                <code><span title="prefect.Flow">Flow</span></code>
          </td>
          <td><p>Prefect flow to execute.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
          </td>
          <td><p>Keyword arguments to intantiate the LocalRunConfig.</p></td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>pydantic.<span title="pydantic.ValidationError">ValidationError</span></code>
          </td>
          <td><p>Error validating run configuration.</p></td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="lume_services.errors.EmptyResultError" href="../../../errors/#lume_services.errors.EmptyResultError">EmptyResultError</a></code>
          </td>
          <td><p>No result is associated with the flow.</p></td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="lume_services.errors.TaskNotCompletedError" href="../../../errors/#lume_services.errors.TaskNotCompletedError">TaskNotCompletedError</a></code>
          </td>
          <td><p>Result reference task was not completed.</p></td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="lume_services.errors.TaskNotInFlowError" href="../../../errors/#lume_services.errors.TaskNotInFlowError">TaskNotInFlowError</a></code>
          </td>
          <td><p>Provided task slug not in flow.</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>lume_services/services/scheduling/backends/local.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">run_and_return</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">run_config</span><span class="p">:</span> <span class="n">LocalRunConfig</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">task_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">flow</span><span class="p">:</span> <span class="n">Flow</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Run flow execution and return result.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (Optional[Dict[str, Any]]): Dictionary mapping flow parameter name to</span>
<span class="sd">            value.</span>
<span class="sd">        run_config (Optional[LocalRunConfig]): LocalRunConfig object to configure</span>
<span class="sd">            flow fun.</span>
<span class="sd">        task_name (Optional[str]): Name of task to return result. If no task slug</span>
<span class="sd">            is passed, will return the flow result.</span>
<span class="sd">        flow (Flow): Prefect flow to execute.</span>
<span class="sd">        **kwargs: Keyword arguments to intantiate the LocalRunConfig.</span>

<span class="sd">    Raises:</span>
<span class="sd">        pydantic.ValidationError: Error validating run configuration.</span>
<span class="sd">        EmptyResultError: No result is associated with the flow.</span>
<span class="sd">        TaskNotCompletedError: Result reference task was not completed.</span>
<span class="sd">        TaskNotInFlowError: Provided task slug not in flow.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">run_config</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="s2">&quot;Both run_config and kwargs passed to LocalBackend.run. Flow</span><span class="se">\</span>
<span class="s2">            will execute using passed run_config.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">run_config</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">run_config</span> <span class="o">=</span> <span class="n">LocalRunConfig</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="c1"># convert to Prefect LocalRun</span>
    <span class="n">prefect_run_config</span> <span class="o">=</span> <span class="n">run_config</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>

    <span class="c1"># apply run config</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">run_config</span> <span class="o">=</span> <span class="n">prefect_run_config</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">flow_run</span> <span class="o">=</span> <span class="n">flow</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">parameters</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">flow_run</span><span class="o">.</span><span class="n">is_failed</span><span class="p">():</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">flow_run</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">FlowFailedError</span><span class="p">(</span>
                <span class="n">flow_id</span><span class="o">=</span><span class="s2">&quot;local_flow&quot;</span><span class="p">,</span>
                <span class="n">flow_run_id</span><span class="o">=</span><span class="s2">&quot;local_flow_run&quot;</span><span class="p">,</span>
                <span class="n">exception_message</span><span class="o">=</span><span class="n">flow_run</span><span class="o">.</span><span class="n">message</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">FlowFailedError</span><span class="p">(</span>
            <span class="n">flow_id</span><span class="o">=</span><span class="s2">&quot;local_flow&quot;</span><span class="p">,</span>
            <span class="n">flow_run_id</span><span class="o">=</span><span class="s2">&quot;local_flow_run&quot;</span><span class="p">,</span>
            <span class="n">exception_message</span><span class="o">=</span><span class="n">e</span><span class="o">.</span><span class="n">message</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">result</span> <span class="o">=</span> <span class="n">flow_run</span><span class="o">.</span><span class="n">result</span>

    <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">EmptyResultError</span>

    <span class="n">task_to_slug_map</span> <span class="o">=</span> <span class="p">{</span><span class="n">task</span><span class="p">:</span> <span class="n">slug</span> <span class="k">for</span> <span class="n">task</span><span class="p">,</span> <span class="n">slug</span> <span class="ow">in</span> <span class="n">flow</span><span class="o">.</span><span class="n">slugs</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
    <span class="c1"># slug_to_task_map = {slug: task for task, slug in flow.slugs.items()}</span>

    <span class="c1"># account for task slug</span>
    <span class="k">if</span> <span class="n">task_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># get tasks</span>
        <span class="n">tasks</span> <span class="o">=</span> <span class="n">flow</span><span class="o">.</span><span class="n">get_tasks</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">task_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="n">tasks</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">TaskNotInFlowError</span><span class="p">(</span>
                <span class="n">flow_name</span><span class="o">=</span><span class="n">flow</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">project_name</span><span class="o">=</span><span class="s2">&quot;local&quot;</span><span class="p">,</span> <span class="n">task_name</span><span class="o">=</span><span class="n">task_name</span>
            <span class="p">)</span>

        <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="n">tasks</span><span class="p">:</span>
            <span class="n">slug</span> <span class="o">=</span> <span class="n">task_to_slug_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">task</span><span class="p">)</span>
            <span class="n">state</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="n">task</span><span class="p">]</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">state</span><span class="o">.</span><span class="n">is_successful</span><span class="p">():</span>
                <span class="k">raise</span> <span class="n">TaskNotCompletedError</span><span class="p">(</span>
                    <span class="n">slug</span><span class="p">,</span> <span class="n">flow_id</span><span class="o">=</span><span class="s2">&quot;local_flow&quot;</span><span class="p">,</span> <span class="n">flow_run_id</span><span class="o">=</span><span class="s2">&quot;local_flow_run&quot;</span>
                <span class="p">)</span>

            <span class="n">res</span> <span class="o">=</span> <span class="n">state</span><span class="o">.</span><span class="n">result</span>
            <span class="k">if</span> <span class="n">res</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">EmptyResultError</span><span class="p">(</span><span class="s2">&quot;local_flow&quot;</span><span class="p">,</span> <span class="s2">&quot;local_flow_run&quot;</span><span class="p">,</span> <span class="n">slug</span><span class="p">)</span>

            <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">state</span><span class="o">.</span><span class="n">result</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">tasks</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">results</span>

    <span class="c1"># else return dict of task slug to value</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="n">slug</span><span class="p">:</span> <span class="n">result</span><span class="p">[</span><span class="n">task</span><span class="p">]</span><span class="o">.</span><span class="n">result</span> <span class="k">for</span> <span class="n">task</span><span class="p">,</span> <span class="n">slug</span> <span class="ow">in</span> <span class="n">task_to_slug_map</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="lume_services.services.scheduling.backends.local.LocalBackend.create_project" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">create_project</span>


</h6>
<div class="highlight"><pre><span></span><code><span class="n">create_project</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Raise LocalBackendError for calls to register_flow server-type method.</p>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="lume_services.errors.LocalBackendError" href="../../../errors/#lume_services.errors.LocalBackendError">LocalBackendError</a></code>
          </td>
          <td><p>Indicates that a server-backend operation has been
executed against the LocalBackend. Server-backend operations include
flow registration and remote execution.</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>lume_services/services/scheduling/backends/local.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">create_project</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Raise LocalBackendError for calls to register_flow server-type method.</span>

<span class="sd">    Raises:</span>
<span class="sd">        LocalBackendError: Indicates that a server-backend operation has been</span>
<span class="sd">            executed against the LocalBackend. Server-backend operations include</span>
<span class="sd">            flow registration and remote execution.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="n">LocalBackendError</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="lume_services.services.scheduling.backends.local.LocalBackend.register_flow" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">register_flow</span>


</h6>
<div class="highlight"><pre><span></span><code><span class="n">register_flow</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Raise LocalBackendError for calls to register_flow server-type method.</p>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="lume_services.errors.LocalBackendError" href="../../../errors/#lume_services.errors.LocalBackendError">LocalBackendError</a></code>
          </td>
          <td><p>Indicates that a server-backend operation has been
executed against the LocalBackend. Server-backend operations include
flow registration and remote execution.</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>lume_services/services/scheduling/backends/local.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">register_flow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Raise LocalBackendError for calls to register_flow server-type method.</span>

<span class="sd">    Raises:</span>
<span class="sd">        LocalBackendError: Indicates that a server-backend operation has been</span>
<span class="sd">            executed against the LocalBackend. Server-backend operations include</span>
<span class="sd">            flow registration and remote execution.</span>


<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="n">LocalBackendError</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="lume_services.services.scheduling.backends.local.LocalBackend.load_flow" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">load_flow</span>


</h6>
<div class="highlight"><pre><span></span><code><span class="n">load_flow</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Raise LocalBackendError for calls to load_flow server-type method.</p>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="lume_services.errors.LocalBackendError" href="../../../errors/#lume_services.errors.LocalBackendError">LocalBackendError</a></code>
          </td>
          <td><p>Indicates that a server-backend operation has been
executed against the LocalBackend. Server-backend operations include
flow registration and remote execution.</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>lume_services/services/scheduling/backends/local.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">load_flow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Raise LocalBackendError for calls to load_flow server-type method.</span>

<span class="sd">    Raises:</span>
<span class="sd">        LocalBackendError: Indicates that a server-backend operation has been</span>
<span class="sd">            executed against the LocalBackend. Server-backend operations include</span>
<span class="sd">            flow registration and remote execution.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="n">LocalBackendError</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="lume_services.services.scheduling.backends.server" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">lume_services.services.scheduling.backends.server</span>


</h2>

  <div class="doc doc-contents first">

  

  <div class="doc doc-children">






<h3 id="lume_services.services.scheduling.backends.server-classes">Classes</h3>

<div class="doc doc-object doc-class">



<h4 id="lume_services.services.scheduling.backends.server.PrefectAgentConfig" class="doc doc-heading">
        <span class="doc doc-object-name doc-class-name">PrefectAgentConfig</span>


</h4>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>




  

  <div class="doc doc-children">





<h5 id="lume_services.services.scheduling.backends.server.PrefectAgentConfig-attributes">Attributes</h5>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.server.PrefectAgentConfig.host" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">host</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">host</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;http://localhost&#39;</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.server.PrefectAgentConfig.host_port" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">host_port</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">host_port</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;5000&#39;</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>





  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="lume_services.services.scheduling.backends.server.PrefectServerConfig" class="doc doc-heading">
        <span class="doc doc-object-name doc-class-name">PrefectServerConfig</span>


</h4>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>




  

  <div class="doc doc-children">





<h5 id="lume_services.services.scheduling.backends.server.PrefectServerConfig-attributes">Attributes</h5>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.server.PrefectServerConfig.tag" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">tag</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">tag</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;core-1.2.4&#39;</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.server.PrefectServerConfig.host" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">host</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">host</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;http://localhost&#39;</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.server.PrefectServerConfig.host_port" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">host_port</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">host_port</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;4200&#39;</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.server.PrefectServerConfig.host_ip" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">host_ip</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">host_ip</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;127.0.0.1&#39;</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>





  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="lume_services.services.scheduling.backends.server.PrefectUIConfig" class="doc doc-heading">
        <span class="doc doc-object-name doc-class-name">PrefectUIConfig</span>


</h4>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>




  

  <div class="doc doc-children">





<h5 id="lume_services.services.scheduling.backends.server.PrefectUIConfig-attributes">Attributes</h5>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.server.PrefectUIConfig.host" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">host</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">host</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;http://localhost&#39;</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.server.PrefectUIConfig.host_port" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">host_port</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">host_port</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;8080&#39;</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.server.PrefectUIConfig.host_ip" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">host_ip</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">host_ip</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;127.0.0.1&#39;</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.server.PrefectUIConfig.apollo_url" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">apollo_url</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">apollo_url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;http://localhost:4200/graphql&#39;</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>





  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="lume_services.services.scheduling.backends.server.PrefectTelemetryConfig" class="doc doc-heading">
        <span class="doc doc-object-name doc-class-name">PrefectTelemetryConfig</span>


</h4>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>




  

  <div class="doc doc-children">





<h5 id="lume_services.services.scheduling.backends.server.PrefectTelemetryConfig-attributes">Attributes</h5>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.server.PrefectTelemetryConfig.enabled" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">enabled</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">enabled</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>





  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="lume_services.services.scheduling.backends.server.PrefectConfig" class="doc doc-heading">
        <span class="doc doc-object-name doc-class-name">PrefectConfig</span>


</h4>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>




  

  <div class="doc doc-children">





<h5 id="lume_services.services.scheduling.backends.server.PrefectConfig-attributes">Attributes</h5>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.server.PrefectConfig.server" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">server</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">server</span><span class="p">:</span> <span class="n">PrefectServerConfig</span> <span class="o">=</span> <span class="n">PrefectServerConfig</span><span class="p">()</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.server.PrefectConfig.ui" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">ui</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">ui</span><span class="p">:</span> <span class="n">PrefectUIConfig</span> <span class="o">=</span> <span class="n">PrefectUIConfig</span><span class="p">()</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.server.PrefectConfig.telemetry" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">telemetry</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">telemetry</span><span class="p">:</span> <span class="n">PrefectTelemetryConfig</span> <span class="o">=</span> <span class="n">PrefectTelemetryConfig</span><span class="p">()</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.server.PrefectConfig.agent" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">agent</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">agent</span><span class="p">:</span> <span class="n">PrefectAgentConfig</span> <span class="o">=</span> <span class="n">PrefectAgentConfig</span><span class="p">()</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.server.PrefectConfig.home_dir" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">home_dir</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">home_dir</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;~/.prefect&#39;</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.server.PrefectConfig.debug" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">debug</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.server.PrefectConfig.backend" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">backend</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">backend</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;server&#39;</span><span class="p">,</span> <span class="s1">&#39;cloud&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;server&#39;</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>

<h5 id="lume_services.services.scheduling.backends.server.PrefectConfig-functions">Functions</h5>

<div class="doc doc-object doc-function">



<h6 id="lume_services.services.scheduling.backends.server.PrefectConfig.apply" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">apply</span>


</h6>
<div class="highlight"><pre><span></span><code><span class="n">apply</span><span class="p">()</span>
</code></pre></div>

  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>lume_services/services/scheduling/backends/server.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">apply</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">prefect_config</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
        <span class="n">home_dir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">home_dir</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">,</span> <span class="n">backend</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">backend</span>
    <span class="p">)</span>
    <span class="c1"># must set endpoint because referenced by client</span>
    <span class="n">prefect_config</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
        <span class="n">endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">host</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">host_port</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span>
    <span class="p">)</span>
    <span class="n">prefect_config</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">dict</span><span class="p">())</span>
    <span class="n">prefect_config</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">telemetry</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">telemetry</span><span class="o">.</span><span class="n">dict</span><span class="p">())</span>
    <span class="c1"># client requires api set</span>
    <span class="n">prefect_config</span><span class="o">.</span><span class="n">cloud</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">api</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">host</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">host_port</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">save_backend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">prefect_config</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="lume_services.services.scheduling.backends.server.ServerBackend" class="doc doc-heading">
        <span class="doc doc-object-name doc-class-name">ServerBackend</span>


</h4>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><a class="autorefs autorefs-internal" title="lume_services.services.scheduling.backends.backend.Backend" href="#lume_services.services.scheduling.backends.backend.Backend">Backend</a></code></p>

  
      <p>Abstract backend used for connecting to a Prefect server.</p>
<p>Prefect manages its own contexts for the purpose of registering flow objects
etc. This introduced issues with management of clients, namely that even after
setting the prefect configuration in the PrefectConfig.apply method, the
original cloud context was still being used to construct the client. For this
reason, all clients are constructed inside a context constructed from the backend
configuration.</p>

  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>config</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="lume_services.services.scheduling.backends.server.PrefectConfig" href="#lume_services.services.scheduling.backends.server.PrefectConfig">PrefectConfig</a></code>
          </td>
          <td><p>Instantiated PrefectConfig object describing connection
to Prefect server.</p></td>
        </tr>
        <tr>
          <td><code>default_image</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Default image used for registering flow storage.</p></td>
        </tr>
    </tbody>
  </table>



  

  <div class="doc doc-children">





<h5 id="lume_services.services.scheduling.backends.server.ServerBackend-attributes">Attributes</h5>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.server.ServerBackend.config" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">config</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">config</span><span class="p">:</span> <span class="n">PrefectConfig</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.server.ServerBackend.default_image" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">default_image</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">default_image</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s1">&#39;image&#39;</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>

<h5 id="lume_services.services.scheduling.backends.server.ServerBackend-functions">Functions</h5>

<div class="doc doc-object doc-function">



<h6 id="lume_services.services.scheduling.backends.server.ServerBackend.run_config_type" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">run_config_type</span>


</h6>
<div class="highlight"><pre><span></span><code><span class="n">run_config_type</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">PrefectRunConfig</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Abstract property that must return the Prefect RunConfig type pertinent to
the Backend implementation.</p>

      <details class="quote">
        <summary>Source code in <code>lume_services/services/scheduling/backends/server.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractproperty</span>
<span class="k">def</span> <span class="nf">run_config_type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PrefectRunConfig</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Abstract property that must return the Prefect RunConfig type pertinent to</span>
<span class="sd">    the Backend implementation.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="lume_services.services.scheduling.backends.server.ServerBackend.create_project" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">create_project</span>


</h6>
<div class="highlight"><pre><span></span><code><span class="n">create_project</span><span class="p">(</span><span class="n">project_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Create a Prefect project.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>project_name</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Create a named Prefect project.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>prefect.<span title="prefect.errors">errors</span>.<span title="prefect.errors.ClientError">ClientError</span></code>
          </td>
          <td><p>if the GraphQL query is bad for any reason</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>lume_services/services/scheduling/backends/server.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">create_project</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Create a Prefect project.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_name (str): Create a named Prefect project.</span>

<span class="sd">    Raises:</span>
<span class="sd">        prefect.errors.ClientError: if the GraphQL query is bad for any reason</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">prefect</span><span class="o">.</span><span class="n">context</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">apply</span><span class="p">()):</span>
        <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">client</span><span class="o">.</span><span class="n">create_project</span><span class="p">(</span><span class="n">project_name</span><span class="o">=</span><span class="n">project_name</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="lume_services.services.scheduling.backends.server.ServerBackend.register_flow" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">register_flow</span>


</h6>
<div class="highlight"><pre><span></span><code><span class="n">register_flow</span><span class="p">(</span>
    <span class="n">flow</span><span class="p">:</span> <span class="n">Flow</span><span class="p">,</span>
    <span class="n">project_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">image</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">labels</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">idempotency_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">version_group_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">build</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">no_url</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">set_schedule_active</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Register a flow with Prefect.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>flow</code></td>
          <td>
                <code><span title="prefect.Flow">Flow</span></code>
          </td>
          <td><p>Prefect flow to register</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>project_name</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Name of project to register flow to</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>image</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Name of Docker image to run flow inside. If not specified,
this will use the default image packaged with this repository.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>build</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>Whether the flows storage should be built prior to
serialization. By default lume-services flows use the same
image for execution with additional packages passed for installation
configured at runtime.</p></td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>labels</code></td>
          <td>
                <code>Optional[<span title="typing.List">List</span>[str]]</code>
          </td>
          <td><p>A list of labels to add to this Flow.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>idempotency_key</code></td>
          <td>
                <code>Optional[str]</code>
          </td>
          <td><p>a key that, if matching the most recent
registration call for this flow group, will prevent the creation of
another flow version and return the existing flow id instead.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>version_group_id</code></td>
          <td>
                <code>Optional[str]</code>
          </td>
          <td><p>The UUID version group ID to use for
versioning this Flow in Cloud. If not provided, the version group ID
associated with this Flow's project and name will be used.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>no_url</code></td>
          <td>
                <code>Optional[bool]</code>
          </td>
          <td><p>If True, the stdout from this function will not
contain the URL link to the newly-registered flow in the UI</p></td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>set_schedule_active</code></td>
          <td>
                <code>Optional[bool]</code>
          </td>
          <td><p>If False, will set the schedule to
inactive in the database to prevent auto-scheduling runs (if the Flow
has a schedule)</p></td>
          <td>
                <code>True</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>str</code></td>          <td>
                <code>str</code>
          </td>
          <td><p>ID of registered flow</p></td>
        </tr>
    </tbody>
  </table>

<details class="notes">
  <summary>Notes</summary>
  <p>prefect registration idempotency key omitted and version group...</p>
</details>
  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>prefect.<span title="prefect.errors">errors</span>.<span title="prefect.errors.ClientError">ClientError</span></code>
          </td>
          <td><p>if the GraphQL query is bad for any reason</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>lume_services/services/scheduling/backends/server.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">register_flow</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">flow</span><span class="p">:</span> <span class="n">Flow</span><span class="p">,</span>
    <span class="n">project_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">image</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">labels</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">idempotency_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">version_group_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">build</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">no_url</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">set_schedule_active</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Register a flow with Prefect.</span>

<span class="sd">    Args:</span>
<span class="sd">        flow (Flow): Prefect flow to register</span>
<span class="sd">        project_name (str): Name of project to register flow to</span>
<span class="sd">        image (str): Name of Docker image to run flow inside. If not specified,</span>
<span class="sd">            this will use the default image packaged with this repository.</span>
<span class="sd">        build (bool): Whether the flows storage should be built prior to</span>
<span class="sd">            serialization. By default lume-services flows use the same</span>
<span class="sd">            image for execution with additional packages passed for installation</span>
<span class="sd">            configured at runtime.</span>
<span class="sd">        labels (Optional[List[str]]): A list of labels to add to this Flow.</span>
<span class="sd">        idempotency_key (Optional[str]): a key that, if matching the most recent</span>
<span class="sd">            registration call for this flow group, will prevent the creation of</span>
<span class="sd">            another flow version and return the existing flow id instead.</span>
<span class="sd">        version_group_id (Optional[str]): The UUID version group ID to use for</span>
<span class="sd">            versioning this Flow in Cloud. If not provided, the version group ID</span>
<span class="sd">            associated with this Flow&#39;s project and name will be used.</span>
<span class="sd">        no_url (Optional[bool]): If True, the stdout from this function will not</span>
<span class="sd">            contain the URL link to the newly-registered flow in the UI</span>
<span class="sd">        set_schedule_active (Optional[bool]): If False, will set the schedule to</span>
<span class="sd">            inactive in the database to prevent auto-scheduling runs (if the Flow</span>
<span class="sd">            has a schedule)</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: ID of registered flow</span>

<span class="sd">    Notes:</span>
<span class="sd">        prefect registration idempotency key omitted and version group...</span>

<span class="sd">    Raises:</span>
<span class="sd">        prefect.errors.ClientError: if the GraphQL query is bad for any reason</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">image</span><span class="p">:</span>
        <span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_image</span>

    <span class="c1"># configure run config for backend</span>
    <span class="n">run_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_config_type</span><span class="p">(</span><span class="n">image</span><span class="o">=</span><span class="n">image</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">run_config</span> <span class="o">=</span> <span class="n">run_config</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">labels</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Flow run config is not empty. Clearing existing labels and assigning </span><span class="se">\</span>
<span class="s2">                new.&quot;</span>
        <span class="p">)</span>
        <span class="n">flow</span><span class="o">.</span><span class="n">run_config</span><span class="o">.</span><span class="n">labels</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">labels</span><span class="p">)</span>

    <span class="n">flow</span><span class="o">.</span><span class="n">run_config</span><span class="o">.</span><span class="n">image_tag</span> <span class="o">=</span> <span class="n">image</span>

    <span class="k">with</span> <span class="n">prefect</span><span class="o">.</span><span class="n">context</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">apply</span><span class="p">()):</span>
        <span class="n">flow_id</span> <span class="o">=</span> <span class="n">flow</span><span class="o">.</span><span class="n">register</span><span class="p">(</span>
            <span class="n">project_name</span><span class="o">=</span><span class="n">project_name</span><span class="p">,</span>
            <span class="n">build</span><span class="o">=</span><span class="n">build</span><span class="p">,</span>
            <span class="n">set_schedule_active</span><span class="o">=</span><span class="n">set_schedule_active</span><span class="p">,</span>
            <span class="n">version_group_id</span><span class="o">=</span><span class="n">version_group_id</span><span class="p">,</span>
            <span class="n">no_url</span><span class="o">=</span><span class="n">no_url</span><span class="p">,</span>
            <span class="n">idempotency_key</span><span class="o">=</span><span class="n">idempotency_key</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">flow_id</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="lume_services.services.scheduling.backends.server.ServerBackend.load_flow" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">load_flow</span>


</h6>
<div class="highlight"><pre><span></span><code><span class="n">load_flow</span><span class="p">(</span><span class="n">flow_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">project_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Load a Prefect flow object.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>flow_name</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Name of flow.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>project_name</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Name of project flow is registered with.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>dict</code></td>          <td>
                <code>dict</code>
          </td>
          <td><p>Dictionary with keys "flow_id" and "flow"</p></td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>prefect.<span title="prefect.errors">errors</span>.<span title="prefect.errors.ClientError">ClientError</span></code>
          </td>
          <td><p>if the GraphQL query is bad for any reason</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>lume_services/services/scheduling/backends/server.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">load_flow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flow_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">project_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Load a Prefect flow object.</span>

<span class="sd">    Args:</span>
<span class="sd">        flow_name (str): Name of flow.</span>
<span class="sd">        project_name (str): Name of project flow is registered with.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Dictionary with keys &quot;flow_id&quot; and &quot;flow&quot;</span>

<span class="sd">    Raises:</span>
<span class="sd">        prefect.errors.ClientError: if the GraphQL query is bad for any reason</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">flow_view</span> <span class="o">=</span> <span class="n">FlowView</span><span class="o">.</span><span class="n">from_flow_name</span><span class="p">(</span>
        <span class="n">flow_name</span><span class="p">,</span> <span class="n">project_name</span><span class="o">=</span><span class="n">project_name</span><span class="p">,</span> <span class="n">last_updated</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>
    <span class="k">with</span> <span class="n">prefect</span><span class="o">.</span><span class="n">context</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">apply</span><span class="p">()):</span>
        <span class="n">flow_view</span> <span class="o">=</span> <span class="n">FlowView</span><span class="o">.</span><span class="n">from_flow_name</span><span class="p">(</span>
            <span class="n">flow_name</span><span class="p">,</span> <span class="n">project_name</span><span class="o">=</span><span class="n">project_name</span><span class="p">,</span> <span class="n">last_updated</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;flow_id&quot;</span><span class="p">:</span> <span class="n">flow_view</span><span class="o">.</span><span class="n">flow_id</span><span class="p">,</span> <span class="s2">&quot;flow&quot;</span><span class="p">:</span> <span class="n">flow_view</span><span class="o">.</span><span class="n">flow</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="lume_services.services.scheduling.backends.server.ServerBackend.run" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">run</span>


</h6>
<div class="highlight"><pre><span></span><code><span class="n">run</span><span class="p">(</span>
    <span class="n">parameters</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">run_config</span><span class="p">:</span> <span class="n">RunConfig</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">flow_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Create a flow run for a flow.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>flow_id</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Flow identifier</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>parameters</code></td>
          <td>
                <code>Optional[<span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]]</code>
          </td>
          <td><p>Dictionary mapping flow parameter
name to value</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>run_config</code></td>
          <td>
                <code>Optional[<a class="autorefs autorefs-internal" title="lume_services.services.scheduling.backends.backend.RunConfig" href="#lume_services.services.scheduling.backends.backend.RunConfig">RunConfig</a>]</code>
          </td>
          <td><p>RunConfig object to configure flow fun.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
          </td>
          <td><p>Keyword arguments to intantiate the RunConfig.</p></td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>str</code></td>          <td>
                <code>str</code>
          </td>
          <td><p>ID of flow run</p></td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>prefect.<span title="prefect.errors">errors</span>.<span title="prefect.errors.ClientError">ClientError</span></code>
          </td>
          <td><p>if the GraphQL query is bad for any reason</p></td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="lume_services.services.scheduling.backends.docker" href="#lume_services.services.scheduling.backends.docker">docker</a>.<span title="lume_services.services.scheduling.backends.docker.errors">errors</span>.<span title="docker.errors.DockerException">DockerException</span></code>
          </td>
          <td><p>Run configuration error for docker api.</p></td>
        </tr>
        <tr>
          <td>
                <code>pydantic.<span title="pydantic.ValidationError">ValidationError</span></code>
          </td>
          <td><p>Error validating run configuration.</p></td>
        </tr>
        <tr>
          <td>
                <code>ValueError</code>
          </td>
          <td><p>Value error on flow run</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>lume_services/services/scheduling/backends/server.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">parameters</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">run_config</span><span class="p">:</span> <span class="n">RunConfig</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">flow_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Create a flow run for a flow.</span>

<span class="sd">    Args:</span>
<span class="sd">        flow_id (str): Flow identifier</span>
<span class="sd">        parameters (Optional[Dict[str, Any]]): Dictionary mapping flow parameter</span>
<span class="sd">            name to value</span>
<span class="sd">        run_config (Optional[RunConfig]): RunConfig object to configure flow fun.</span>
<span class="sd">        **kwargs: Keyword arguments to intantiate the RunConfig.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: ID of flow run</span>

<span class="sd">    Raises:</span>
<span class="sd">        prefect.errors.ClientError: if the GraphQL query is bad for any reason</span>
<span class="sd">        docker.errors.DockerException: Run configuration error for docker api.</span>
<span class="sd">        pydantic.ValidationError: Error validating run configuration.</span>
<span class="sd">        ValueError: Value error on flow run</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">run_config</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="s2">&quot;Both run_config and kwargs passed to Backend.run. Flow</span><span class="se">\</span>
<span class="s2">            will execute using passed run_config.&quot;</span>
        <span class="p">)</span>

    <span class="c1"># convert LUME-services run config to appropriate Prefect RunConfig object</span>
    <span class="k">if</span> <span class="n">run_config</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">run_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_config_type</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="n">prefect_run_config</span> <span class="o">=</span> <span class="n">run_config</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>

    <span class="k">with</span> <span class="n">prefect</span><span class="o">.</span><span class="n">context</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">apply</span><span class="p">()):</span>
        <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">flow_run_id</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">create_flow_run</span><span class="p">(</span>
            <span class="n">flow_id</span><span class="o">=</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">parameters</span><span class="o">=</span><span class="n">parameters</span><span class="p">,</span> <span class="n">run_config</span><span class="o">=</span><span class="n">prefect_run_config</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">flow_run_id</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="lume_services.services.scheduling.backends.server.ServerBackend.run_and_return" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">run_and_return</span>


</h6>
<div class="highlight"><pre><span></span><code><span class="n">run_and_return</span><span class="p">(</span>
    <span class="n">parameters</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">run_config</span><span class="p">:</span> <span class="n">RunConfig</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">task_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">flow_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="n">timedelta</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">minutes</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
    <span class="n">cancel_on_timeout</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span>
<span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Create a flow run for a flow and return the result.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>parameters</code></td>
          <td>
                <code>Optional[<span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]]</code>
          </td>
          <td><p>Dictionary mapping flow parameter
name to value</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>run_config</code></td>
          <td>
                <code>Optional[<a class="autorefs autorefs-internal" title="lume_services.services.scheduling.backends.backend.RunConfig" href="#lume_services.services.scheduling.backends.backend.RunConfig">RunConfig</a>]</code>
          </td>
          <td><p>RunConfig object to configure flow fun.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>task_name</code></td>
          <td>
                <code>Optional[str]</code>
          </td>
          <td><p>Name of task to return result. If no task slug
is passed, will return the flow result.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>flow_id</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>ID of flow to run.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>timeout</code></td>
          <td>
                <code><span title="datetime.timedelta">timedelta</span></code>
          </td>
          <td><p>Time before stopping flow execution.</p></td>
          <td>
                <code>timedelta(minutes=1)</code>
          </td>
        </tr>
        <tr>
          <td><code>cancel_on_timeout</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>Whether to cancel execution on timeout
error.</p></td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
          </td>
          <td><p>Keyword arguments to intantiate the RunConfig.</p></td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="lume_services.errors.EmptyResultError" href="../../../errors/#lume_services.errors.EmptyResultError">EmptyResultError</a></code>
          </td>
          <td><p>No result is associated with the flow.</p></td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="lume_services.errors.TaskNotCompletedError" href="../../../errors/#lume_services.errors.TaskNotCompletedError">TaskNotCompletedError</a></code>
          </td>
          <td><p>Result reference task was not completed.</p></td>
        </tr>
        <tr>
          <td>
                <code>RuntimeError</code>
          </td>
          <td><p>Flow did not complete within given timeout.</p></td>
        </tr>
        <tr>
          <td>
                <code>prefect.<span title="prefect.errors">errors</span>.<span title="prefect.errors.ClientError">ClientError</span></code>
          </td>
          <td><p>if the GraphQL query is bad for any reason</p></td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="lume_services.services.scheduling.backends.docker" href="#lume_services.services.scheduling.backends.docker">docker</a>.<span title="lume_services.services.scheduling.backends.docker.errors">errors</span>.<span title="docker.errors.DockerException">DockerException</span></code>
          </td>
          <td><p>Run configuration error for docker api.</p></td>
        </tr>
        <tr>
          <td>
                <code>pydantic.<span title="pydantic.ValidationError">ValidationError</span></code>
          </td>
          <td><p>Error validating run configuration.</p></td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="lume_services.errors.TaskNotInFlowError" href="../../../errors/#lume_services.errors.TaskNotInFlowError">TaskNotInFlowError</a></code>
          </td>
          <td><p>Provided task slug not in flow.</p></td>
        </tr>
        <tr>
          <td>
                <code>ValueError</code>
          </td>
          <td><p>Value error on flow run</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>lume_services/services/scheduling/backends/server.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">run_and_return</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">parameters</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">run_config</span><span class="p">:</span> <span class="n">RunConfig</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">task_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">flow_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="n">timedelta</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">minutes</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
    <span class="n">cancel_on_timeout</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Create a flow run for a flow and return the result.</span>

<span class="sd">    Args:</span>
<span class="sd">        parameters (Optional[Dict[str, Any]]): Dictionary mapping flow parameter</span>
<span class="sd">            name to value</span>
<span class="sd">        run_config (Optional[RunConfig]): RunConfig object to configure flow fun.</span>
<span class="sd">        task_name (Optional[str]): Name of task to return result. If no task slug</span>
<span class="sd">            is passed, will return the flow result.</span>
<span class="sd">        flow_id (str): ID of flow to run.</span>
<span class="sd">        timeout (timedelta): Time before stopping flow execution.</span>
<span class="sd">        cancel_on_timeout (bool): Whether to cancel execution on timeout</span>
<span class="sd">            error.</span>
<span class="sd">        **kwargs: Keyword arguments to intantiate the RunConfig.</span>

<span class="sd">    Raises:</span>
<span class="sd">        EmptyResultError: No result is associated with the flow.</span>
<span class="sd">        TaskNotCompletedError: Result reference task was not completed.</span>
<span class="sd">        RuntimeError: Flow did not complete within given timeout.</span>
<span class="sd">        prefect.errors.ClientError: if the GraphQL query is bad for any reason</span>
<span class="sd">        docker.errors.DockerException: Run configuration error for docker api.</span>
<span class="sd">        pydantic.ValidationError: Error validating run configuration.</span>
<span class="sd">        TaskNotInFlowError: Provided task slug not in flow.</span>
<span class="sd">        ValueError: Value error on flow run</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">run_config</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="s2">&quot;Both run_config and kwargs passed to Backend.run. Flow</span><span class="se">\</span>
<span class="s2">            will execute using passed run_config.&quot;</span>
        <span class="p">)</span>

    <span class="c1"># convert LUME-services run config to appropriate Prefect RunConfig object</span>
    <span class="k">if</span> <span class="n">run_config</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">run_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_config_type</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="n">prefect_run_config</span> <span class="o">=</span> <span class="n">run_config</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;Creating Prefect flow run for </span><span class="si">%s</span><span class="s2"> with parameters </span><span class="si">%s</span><span class="s2"> and run_config </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">flow_id</span><span class="p">,</span>
        <span class="n">parameters</span><span class="p">,</span>
        <span class="n">run_config</span><span class="o">.</span><span class="n">json</span><span class="p">(),</span>
    <span class="p">)</span>

    <span class="k">with</span> <span class="n">prefect</span><span class="o">.</span><span class="n">context</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">apply</span><span class="p">()):</span>
        <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>

        <span class="n">flow_run_id</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">create_flow_run</span><span class="p">(</span>
            <span class="n">flow_id</span><span class="o">=</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">parameters</span><span class="o">=</span><span class="n">parameters</span><span class="p">,</span> <span class="n">run_config</span><span class="o">=</span><span class="n">prefect_run_config</span>
        <span class="p">)</span>
        <span class="n">flow_view</span> <span class="o">=</span> <span class="n">FlowView</span><span class="o">.</span><span class="n">from_flow_id</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span>

        <span class="c1"># watch flow run and stream logs until timeout</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">log</span> <span class="ow">in</span> <span class="n">watch_flow_run</span><span class="p">(</span>
                <span class="n">flow_run_id</span><span class="p">,</span>
                <span class="n">stream_states</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">stream_logs</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">max_duration</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
            <span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">log</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">RuntimeError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">cancel_on_timeout</span><span class="p">:</span>
                <span class="n">client</span><span class="o">.</span><span class="n">cancel_flow_run</span><span class="p">(</span><span class="n">flow_run_id</span><span class="o">=</span><span class="n">flow_run_id</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">err</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Watched flow completed.&quot;</span><span class="p">)</span>
        <span class="n">flow_run</span> <span class="o">=</span> <span class="n">FlowRunView</span><span class="o">.</span><span class="n">from_flow_run_id</span><span class="p">(</span><span class="n">flow_run_id</span><span class="p">)</span>

        <span class="c1"># check state</span>
        <span class="k">if</span> <span class="n">flow_run</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">is_failed</span><span class="p">():</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">flow_run</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">FlowFailedError</span><span class="p">(</span>
                <span class="n">flow_id</span><span class="o">=</span><span class="n">flow_run</span><span class="o">.</span><span class="n">flow_id</span><span class="p">,</span>
                <span class="n">flow_run_id</span><span class="o">=</span><span class="n">flow_run</span><span class="o">.</span><span class="n">flow_run_id</span><span class="p">,</span>
                <span class="n">exception_message</span><span class="o">=</span><span class="n">flow_run</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">message</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="n">task_runs</span> <span class="o">=</span> <span class="n">flow_run</span><span class="o">.</span><span class="n">get_all_task_runs</span><span class="p">()</span>

        <span class="c1"># populate tasks</span>
        <span class="n">results</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">task_run</span> <span class="ow">in</span> <span class="n">task_runs</span><span class="p">:</span>
            <span class="n">slug</span> <span class="o">=</span> <span class="n">task_run</span><span class="o">.</span><span class="n">task_slug</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">task_run</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">is_successful</span><span class="p">():</span>
                <span class="k">raise</span> <span class="n">TaskNotCompletedError</span><span class="p">(</span><span class="n">slug</span><span class="p">,</span> <span class="n">flow_id</span><span class="p">,</span> <span class="n">flow_run_id</span><span class="p">)</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">res</span> <span class="o">=</span> <span class="n">task_run</span><span class="o">.</span><span class="n">get_result</span><span class="p">()</span>
            <span class="c1"># location is not set, no result</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="n">res</span> <span class="o">=</span> <span class="kc">None</span>

            <span class="n">results</span><span class="p">[</span><span class="n">slug</span><span class="p">]</span> <span class="o">=</span> <span class="n">res</span>

    <span class="c1"># get task run</span>
    <span class="k">if</span> <span class="n">task_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># filter tasks based on name</span>
        <span class="n">task_runs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">slug</span><span class="p">:</span> <span class="n">res</span> <span class="k">for</span> <span class="n">slug</span><span class="p">,</span> <span class="n">res</span> <span class="ow">in</span> <span class="n">results</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">task_name</span> <span class="ow">in</span> <span class="n">slug</span>
        <span class="p">}</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">task_runs</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="n">task_runs</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">TaskNotInFlowError</span><span class="p">(</span>
                <span class="n">flow_name</span><span class="o">=</span><span class="n">flow_view</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">project_name</span><span class="o">=</span><span class="n">flow_view</span><span class="o">.</span><span class="n">project_name</span><span class="p">,</span>
                <span class="n">task_name</span><span class="o">=</span><span class="n">task_name</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">task_runs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">res</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">task_runs</span><span class="o">.</span><span class="n">values</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">res</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">EmptyResultError</span><span class="p">(</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">flow_run_id</span><span class="p">,</span> <span class="n">slug</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">res</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">task_runs</span>

    <span class="c1"># assume flow result, return all results</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">results</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="lume_services.services.scheduling.backends.docker" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">lume_services.services.scheduling.backends.docker</span>


</h2>

  <div class="doc doc-contents first">

  

  <div class="doc doc-children">






<h3 id="lume_services.services.scheduling.backends.docker-classes">Classes</h3>

<div class="doc doc-object doc-class">



<h4 id="lume_services.services.scheduling.backends.docker.DockerRunConfig" class="doc doc-heading">
        <span class="doc doc-object-name doc-class-name">DockerRunConfig</span>


</h4>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><a class="autorefs autorefs-internal" title="lume_services.services.scheduling.backends.backend.RunConfig" href="#lume_services.services.scheduling.backends.backend.RunConfig">RunConfig</a></code></p>

  
      <p>Pydantic representation of a Docker Prefect run configuration:
https://docs.prefect.io/api/latest/run_configs.html#dockerrun</p>

  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>labels</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[str]]</code>
          </td>
          <td><p>an list of labels to apply to this run
config. Labels are string identifiers used by Prefect Agents for selecting
valid flow runs when polling for work</p></td>
        </tr>
        <tr>
          <td><code>env</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[dict]</code>
          </td>
          <td><p>Additional environment variables to set on the job</p></td>
        </tr>
        <tr>
          <td><code>image</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Tag of image in which flow should run.</p></td>
        </tr>
        <tr>
          <td><code>host_config</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]]</code>
          </td>
          <td><p>Dictionary representing runtime args
to be passed to Docker agent. Full documentation of args can be found here:
https://docker-py.readthedocs.io/en/stable/api.html#docker.api.container.ContainerApiMixin.create_host_config</p></td>
        </tr>
        <tr>
          <td><code>ports</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[int]]</code>
          </td>
          <td><p>An list of ports numbers to expose on
container.</p></td>
        </tr>
    </tbody>
  </table>



  

  <div class="doc doc-children">





<h5 id="lume_services.services.scheduling.backends.docker.DockerRunConfig-attributes">Attributes</h5>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.docker.DockerRunConfig.image" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">image</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">image</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.docker.DockerRunConfig.host_config" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">host_config</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">host_config</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.docker.DockerRunConfig.ports" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">ports</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">ports</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>

<h5 id="lume_services.services.scheduling.backends.docker.DockerRunConfig-functions">Functions</h5>

<div class="doc doc-object doc-function">



<h6 id="lume_services.services.scheduling.backends.docker.DockerRunConfig.validate_host_config" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">validate_host_config</span>


</h6>
<div class="highlight"><pre><span></span><code><span class="n">validate_host_config</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Composes a model for the Docker host configuration and applies any passed
values.</p>

      <details class="quote">
        <summary>Source code in <code>lume_services/services/scheduling/backends/docker.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;host_config&quot;</span><span class="p">,</span> <span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_host_config</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Composes a model for the Docker host configuration and applies any passed</span>
<span class="sd">    values.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="p">(</span><span class="nb">dict</span><span class="p">,)):</span>
        <span class="c1"># test host config composition using api version</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">HostConfig</span><span class="p">(</span><span class="n">version</span><span class="o">=</span><span class="n">docker_api_version</span><span class="p">(),</span> <span class="o">**</span><span class="n">v</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">e</span>

    <span class="k">return</span> <span class="n">v</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="lume_services.services.scheduling.backends.docker.DockerRunConfig.build" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">build</span>


</h6>
<div class="highlight"><pre><span></span><code><span class="n">build</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">DockerRun</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Method for converting to Prefect RunConfig type DockerRun.</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="prefect.run_configs.DockerRun">DockerRun</span></code>
          </td>
          <td><p>DockerRun</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>lume_services/services/scheduling/backends/docker.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DockerRun</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Method for converting to Prefect RunConfig type DockerRun.</span>

<span class="sd">    Returns:</span>
<span class="sd">        DockerRun</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">DockerRun</span><span class="p">(</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude_none</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="lume_services.services.scheduling.backends.docker.DockerBackend" class="doc doc-heading">
        <span class="doc doc-object-name doc-class-name">DockerBackend</span>


</h4>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><a class="autorefs autorefs-internal" title="lume_services.services.scheduling.backends.server.ServerBackend" href="#lume_services.services.scheduling.backends.server.ServerBackend">ServerBackend</a></code></p>

  
      <p>Implementation of Backend used for interacting with prefect deployed in
cluster of Docker containers, as with docker-compose.</p>

  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>config</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="lume_services.services.scheduling.backends.server.PrefectConfig" href="#lume_services.services.scheduling.backends.server.PrefectConfig">PrefectConfig</a></code>
          </td>
          <td><p>Instantiated PrefectConfig object describing connection
to Prefect server.</p></td>
        </tr>
        <tr>
          <td><code>_client</code></td>
          <td>
                <code>Client</code>
          </td>
          <td><p>Prefect client connection created on instantiation.</p></td>
        </tr>
        <tr>
          <td><code>_run_config_type</code></td>
          <td>
                <code>type</code>
          </td>
          <td><p>Type used to compose Prefect run configuration.</p></td>
        </tr>
    </tbody>
  </table>



  

  <div class="doc doc-children">







<h5 id="lume_services.services.scheduling.backends.docker.DockerBackend-functions">Functions</h5>

<div class="doc doc-object doc-function">



<h6 id="lume_services.services.scheduling.backends.docker.DockerBackend.run_config_type" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">run_config_type</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">run_config_type</span><span class="p">()</span>
</code></pre></div>

  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>lume_services/services/scheduling/backends/docker.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@property</span>
<span class="k">def</span> <span class="nf">run_config_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_config_type</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>
<h3 id="lume_services.services.scheduling.backends.docker-functions">Functions</h3>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="lume_services.services.scheduling.backends.kubernetes" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">lume_services.services.scheduling.backends.kubernetes</span>


</h2>

  <div class="doc doc-contents first">

  

  <div class="doc doc-children">





<h3 id="lume_services.services.scheduling.backends.kubernetes-attributes">Attributes</h3>

<div class="doc doc-object doc-attribute">



<h4 id="lume_services.services.scheduling.backends.kubernetes.KUBERNETES_REQUEST_SUFFIXES" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">KUBERNETES_REQUEST_SUFFIXES</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

</h4>
<div class="highlight"><pre><span></span><code><span class="n">KUBERNETES_REQUEST_SUFFIXES</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;EB&quot;</span><span class="p">,</span>
    <span class="s2">&quot;PB&quot;</span><span class="p">,</span>
    <span class="s2">&quot;TB&quot;</span><span class="p">,</span>
    <span class="s2">&quot;GB&quot;</span><span class="p">,</span>
    <span class="s2">&quot;MB&quot;</span><span class="p">,</span>
    <span class="s2">&quot;kB&quot;</span><span class="p">,</span>
    <span class="s2">&quot;EiB&quot;</span><span class="p">,</span>
    <span class="s2">&quot;PiB&quot;</span><span class="p">,</span>
    <span class="s2">&quot;TiB&quot;</span><span class="p">,</span>
    <span class="s2">&quot;GiB&quot;</span><span class="p">,</span>
    <span class="s2">&quot;MiB&quot;</span><span class="p">,</span>
    <span class="s2">&quot;KiB&quot;</span><span class="p">,</span>
<span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>
<h3 id="lume_services.services.scheduling.backends.kubernetes-classes">Classes</h3>

<div class="doc doc-object doc-class">



<h4 id="lume_services.services.scheduling.backends.kubernetes.KubernetesRunConfig" class="doc doc-heading">
        <span class="doc doc-object-name doc-class-name">KubernetesRunConfig</span>


</h4>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><a class="autorefs autorefs-internal" title="lume_services.services.scheduling.backends.backend.RunConfig" href="#lume_services.services.scheduling.backends.backend.RunConfig">RunConfig</a></code></p>

  
      <p>Pydantic representation of args to:
https://docs.prefect.io/api/latest/run_configs.html#kubernetesrun
https://kubernetes.io/docs/concepts/configuration/overview/#container-images</p>

  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>labels</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[str]]</code>
          </td>
          <td><p>an list of labels to apply to this run
config. Labels are string identifiers used by Prefect Agents for selecting
valid flow runs when polling for work</p></td>
        </tr>
        <tr>
          <td><code>env</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[dict]</code>
          </td>
          <td><p>Additional environment variables to set on the job</p></td>
        </tr>
        <tr>
          <td><code>image</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td><p>The image to use. Can also be specified via job
template.</p></td>
        </tr>
        <tr>
          <td><code>job_template_path</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td><p>Path to a job template to use. If a local
path (no file scheme, or a file/local scheme), the job template will be
loaded on initialization and stored on the KubernetesRun object as the
job_template field. Otherwise the job template will be loaded at runtime
on the agent. Supported runtime file schemes include (s3, gcs, and agent
(for paths local to the runtime agent)).</p></td>
        </tr>
        <tr>
          <td><code>job_template</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td><p>An in-memory job template to use.</p></td>
        </tr>
        <tr>
          <td><code>cpu_limit</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[float, str]</code>
          </td>
          <td><p>The CPU limit to use for the job</p></td>
        </tr>
        <tr>
          <td><code>cpu_request</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[float, str]</code>
          </td>
          <td><p>The CPU request to use for the job</p></td>
        </tr>
        <tr>
          <td><code>memory_limit</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td><p>The memory limit to use for the job</p></td>
        </tr>
        <tr>
          <td><code>memory_request</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td><p>The memory request to use for the job</p></td>
        </tr>
        <tr>
          <td><code>service_account_name</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td><p>A service account name to use for this
job. If present, overrides any service account configured on the agent or
in the job template.</p></td>
        </tr>
        <tr>
          <td><code>image_pull_secrets</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[list]</code>
          </td>
          <td><p>A list of image pull secrets to use for
this job. If present, overrides any image pull secrets configured on the
agent or in the job template.</p></td>
        </tr>
        <tr>
          <td><code>image_pull_policy</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td><p>The imagePullPolicy to use for the job.</p></td>
        </tr>
    </tbody>
  </table>



  

  <div class="doc doc-children">





<h5 id="lume_services.services.scheduling.backends.kubernetes.KubernetesRunConfig-attributes">Attributes</h5>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.kubernetes.KubernetesRunConfig.image" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">image</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">image</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.kubernetes.KubernetesRunConfig.image_pull_secrets" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">image_pull_secrets</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">image_pull_secrets</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.kubernetes.KubernetesRunConfig.job_template" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">job_template</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">job_template</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.kubernetes.KubernetesRunConfig.job_template_path" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">job_template_path</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">job_template_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.kubernetes.KubernetesRunConfig.service_account_name" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">service_account_name</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">service_account_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.kubernetes.KubernetesRunConfig.image_pull_policy" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">image_pull_policy</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">image_pull_policy</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span>
    <span class="s2">&quot;Always&quot;</span><span class="p">,</span> <span class="s2">&quot;IfNotPresent&quot;</span><span class="p">,</span> <span class="s2">&quot;Never&quot;</span>
<span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;IfNotPresent&quot;</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.kubernetes.KubernetesRunConfig.cpu_limit" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">cpu_limit</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">cpu_limit</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.kubernetes.KubernetesRunConfig.cpu_request" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">cpu_request</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">cpu_request</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.5</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.kubernetes.KubernetesRunConfig.memory_limit" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">memory_limit</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">memory_limit</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="lume_services.services.scheduling.backends.kubernetes.KubernetesRunConfig.memory_request" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">memory_request</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">memory_request</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

  <div class="doc doc-contents ">
  </div>

</div>

<h5 id="lume_services.services.scheduling.backends.kubernetes.KubernetesRunConfig-functions">Functions</h5>

<div class="doc doc-object doc-function">



<h6 id="lume_services.services.scheduling.backends.kubernetes.KubernetesRunConfig.validate_memory" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">validate_memory</span>


</h6>
<div class="highlight"><pre><span></span><code><span class="n">validate_memory</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Validate w.r.t. Kubernetes resource formats: int, fixed-point number using
quantity suffixes: E, P, T, G, M, k or power-of-two equivalents: Ei, Pi,
Ti, Gi, Mi, Ki</p>

      <details class="quote">
        <summary>Source code in <code>lume_services/services/scheduling/backends/kubernetes.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;memory_limit&quot;</span><span class="p">,</span> <span class="s2">&quot;memory_request&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_memory</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Validate w.r.t. Kubernetes resource formats: int, fixed-point number using</span>
<span class="sd">    quantity suffixes: E, P, T, G, M, k or power-of-two equivalents: Ei, Pi,</span>
<span class="sd">    Ti, Gi, Mi, Ki</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,)):</span>
        <span class="k">return</span> <span class="n">v</span>

    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,)):</span>

        <span class="n">acceptable</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="c1"># check substrings</span>
        <span class="n">inclusions</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">substring</span> <span class="k">for</span> <span class="n">substring</span> <span class="ow">in</span> <span class="n">KUBERNETES_REQUEST_SUFFIXES</span> <span class="k">if</span> <span class="n">substring</span> <span class="ow">in</span> <span class="n">v</span>
        <span class="p">]</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">inclusions</span><span class="p">):</span>

            <span class="k">for</span> <span class="n">inclusion</span> <span class="ow">in</span> <span class="n">inclusions</span><span class="p">:</span>

                <span class="k">try</span><span class="p">:</span>
                    <span class="n">stripped</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">inclusion</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
                    <span class="n">_</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">stripped</span><span class="p">)</span>
                    <span class="n">acceptable</span> <span class="o">=</span> <span class="kc">True</span>

                <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                    <span class="k">pass</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">acceptable</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Kubernetes resource request invalid: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Kubernetes resource request invalid: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Must provide string or int to request&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">v</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="lume_services.services.scheduling.backends.kubernetes.KubernetesRunConfig.build" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">build</span>


</h6>
<div class="highlight"><pre><span></span><code><span class="n">build</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">KubernetesRun</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Method for converting to Prefect RunConfig type KubernetesRun.</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="prefect.run_configs.KubernetesRun">KubernetesRun</span></code>
          </td>
          <td><p>KubernetesRun</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>lume_services/services/scheduling/backends/kubernetes.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KubernetesRun</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Method for converting to Prefect RunConfig type KubernetesRun.</span>

<span class="sd">    Returns:</span>
<span class="sd">        KubernetesRun</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># if job template and job template path missing, use packaged template</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">job_template</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">job_template_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">job_template</span> <span class="o">=</span> <span class="n">KUBERNETES_JOB_TEMPLATE</span>

    <span class="k">return</span> <span class="n">KubernetesRun</span><span class="p">(</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude_none</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="lume_services.services.scheduling.backends.kubernetes.KubernetesBackend" class="doc doc-heading">
        <span class="doc doc-object-name doc-class-name">KubernetesBackend</span>


</h4>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><a class="autorefs autorefs-internal" title="lume_services.services.scheduling.backends.server.ServerBackend" href="#lume_services.services.scheduling.backends.server.ServerBackend">ServerBackend</a></code></p>

  
      <p>Implementation of Backend used for interacting with Prefect deployed in
K8 cluster.</p>

  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>config</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="lume_services.services.scheduling.backends.server.PrefectConfig" href="#lume_services.services.scheduling.backends.server.PrefectConfig">PrefectConfig</a></code>
          </td>
          <td><p>Instantiated PrefectConfig object describing connection
to Prefect server.</p></td>
        </tr>
        <tr>
          <td><code>_client</code></td>
          <td>
                <code>Client</code>
          </td>
          <td><p>Prefect client connection created on instantiation.</p></td>
        </tr>
        <tr>
          <td><code>_run_config_type</code></td>
          <td>
                <code>type</code>
          </td>
          <td><p>Type used to compose run configuration.</p></td>
        </tr>
    </tbody>
  </table>



  

  <div class="doc doc-children">







<h5 id="lume_services.services.scheduling.backends.kubernetes.KubernetesBackend-functions">Functions</h5>

<div class="doc doc-object doc-function">



<h6 id="lume_services.services.scheduling.backends.kubernetes.KubernetesBackend.run_config_type" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">run_config_type</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h6>
<div class="highlight"><pre><span></span><code><span class="n">run_config_type</span><span class="p">()</span>
</code></pre></div>

  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>lume_services/services/scheduling/backends/kubernetes.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@property</span>
<span class="k">def</span> <span class="nf">run_config_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_config_type</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>

              
            </article>
            
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../scheduling/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Scheduling Service" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Scheduling Service
            </div>
          </div>
        </a>
      
      
        
        <a href="../../../../developer/setup/" class="md-footer__link md-footer__link--next" aria-label="Next: Setup" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Setup
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["toc.integrate", "toc.follow", "navigation.top", "navigation.tabs"], "search": "../../../../assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.6c7ad80a.min.js"></script>
      
    
  </body>
</html>